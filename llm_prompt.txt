You are an expert autonomous software engineer. 
Your goal is to complete the tasks listed in 'tasks.md' and manage the project state.

PROTOCOL:
1. READ the Project Structure and Source Files below.
2. IMPLEMENT the solutions for the current active tasks.
3. UPDATE 'tasks.md':
   - Mark completed tasks with [x].
   - If you discover new work, missing edge cases, or cleanup needed, ADD new entries to the 'Backlog' section of 'tasks.md'.
   - For every new task you add, list specific files that will be needed as context in parentheses.

CRITICAL FORMATTING RULES:
1. OUTPUT RAW CODE ONLY. Do NOT wrap file contents in Markdown code blocks (no ``` delimiters inside the file sections).
2. DO NOT ESCAPE CHARACTERS. Write code exactly as it should appear in the file.
   - CORRECT: <App />, !important, [1, 2], h_knight_01, {/* comment */}
   - WRONG: \<App /\>, \!important, \[1, 2\], h\_knight\_01, {/\* comment */}
3. The format for every file must be exactly:

### FILE: path/to/filename.ext
[Raw file content here]
### ENDFILE

At the end, provide a git commit message:
### COMMIT: [Concise summary]

======================================================================
PROJECT FILE STRUCTURE:
  - icons/icon128.png
  - icons/icon16.png
  - icons/icon48.png
  - .gitignore
  - background.js
  - llm_prompt.txt
  - llm_response.txt
  - manifest.json
  - offscreen.html
  - offscreen.js
  - popup.html
  - popup.js
  - recorder-processor.js
  - tasks.md

======================================================================
======================================================================
### CONTENT OF: tasks.md (MANDATORY TO UPDATE)
# CRITICAL ERROR

  - [ ] The MP3 generated by this extension has zerp bytes. no errors shown in the browser console logs or in the UI.

# Tasks

  - [x] Initialize project structure (`manifest.json`, `background.js`, `popup.html`).
  - [x] Implement Offscreen API setup (`offscreen.html`, `offscreen.js`).
  - [x] Implement Audio Capture logic using `chrome.tabCapture` and `getUserMedia`.
  - [x] Implement MP3 Encoding logic (Stubbed `lamejs` integration).
  - [x] Implement Background Service Worker to handle messages and downloads.
  - [x] Implement Popup UI for Start/Stop controls.
  - [x] Handle file saving via `chrome.downloads`.

## Backlog

  - [x] Add `lame.min.js` to `lib/` (External dependency required for MP3 encoding).
  - [x] Refactor `ScriptProcessorNode` to `AudioWorklet` (Performance optimization).
  - [ ] Add visualization (waveform) to Popup UI.
  - [ ] Handle very long recordings (Chunked transfer between Offscreen and Background to avoid Base64 string limits).


### END CONTENT: tasks.md

